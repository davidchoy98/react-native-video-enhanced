"use strict";var e=require("react/jsx-runtime"),n=require("react"),t=require("react-native"),r=require("react-native-video"),o=require("@rneui/themed"),i=require("react-native-size-matters");function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,u=[],s=!0,c=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=i.call(t)).done)&&(u.push(r.value),u.length!==n);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,n)||function(e,n){if(e){if("string"==typeof e)return a(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(n){var t=n.volume,r=n.onVolumeChange;return e.jsx(o.Slider,{value:t,minimumValue:0,maximumValue:100,step:1,minimumTrackTintColor:"#fff",onValueChange:function(e){return function(e){r(e)}(e)}})},c=function(n){var r=n.isFullscreen,i=n.onPress;return e.jsx(t.TouchableOpacity,{onPress:function(){return i(!r)},children:r?e.jsx(o.Icon,{name:"compress",type:"font-awesome"}):e.jsx(o.Icon,{name:"expand",type:"font-awesome"})})},l=function(n){var r=n.volume,o=n.isFullscreen,i=n.hideVolumeBar,a=n.hideFullScreenButton,u=n.onToggleFullscreen,l=n.onVolumeChange;return e.jsxs(t.View,{children:[e.jsx(s,{visible:i,volume:r,onVolumeChange:l}),e.jsx(c,{visible:a,isFullscreen:o,onPress:u})]})},f=function(r){var a=r.currentTime,s=r.seekTime,c=r.onSeek,l=u(n.useState(s||15),1)[0];return e.jsx(t.TouchableOpacity,{onPress:function(){return c(a-l)},children:e.jsx(o.Icon,{name:"backward",type:"font-awesome",size:i.scale(10)})})},m=function(n){var r=n.isPlaying,i=n.color,a=n.onPress;return e.jsx(t.TouchableOpacity,{onPress:function(){return a(!r)},children:r?e.jsx(o.Icon,{name:"pause",type:"font-awesome",color:i}):e.jsx(o.Icon,{name:"play",type:"font-awesome",color:i})})},d=function(r){var a=r.currentTime,s=r.seekTime,c=r.onSeek,l=u(n.useState(s||15),1)[0];return e.jsx(t.TouchableOpacity,{onPress:function(){return c(a+l)},children:e.jsx(o.Icon,{name:"forward",type:"font-awesome",size:i.scale(10)})})},h=function(r){var i=r.rate,a=r.rateOptions,s=r.onRateChange,c=u(n.useState(!1),2),l=c[0],f=c[1],m=function(){f(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])};return e.jsxs(e.Fragment,{children:[e.jsx(t.TouchableOpacity,{onPress:function(){return m()},children:e.jsxs(o.Text,{children:[i,"x"]})}),e.jsx(o.Tooltip,{visible:l,onClose:function(){return m(!1)},popover:e.jsx(o.ListItem,{children:a.map((function(n){return e.jsx(o.ListItem.Content,{children:e.jsxs(t.TouchableOpacity,{onPress:function(){return e=n.value,s(e),void f(!1);var e},children:[n.text,"x"]})})}))})})]})},x=i.ScaledSheet.create({text:{fontSize:"10@ms"}}),v=function(t){var r=t.currentTime,i=t.duration,a=t.showRemaining,s=u(n.useState(""),2),c=s[0],l=s[1];n.useEffect((function(){a?l("-".concat(f(i-r))):l(f(r))}),[a,r]);var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=void 0,t=Math.floor(e/60).toFixed(0).padStart(2,"0"),r=Math.floor(e%60).toFixed(0).padStart(2,"0");return e/60>=60&&(n=Math.floor(e/3600).toFixed(0).padStart(2,"0"),t=Math.floor(Math.floor(e/60)%60).toFixed(0).padStart(2,"0")),n?"".concat(n,":"):""+"".concat(t,":").concat(r)};return e.jsx(o.Text,{style:x.text,children:c})},p=function(n){var r=n.currentTime,o=n.duration,i=n.rate,a=n.isPlaying,u=n.rateOptions,s=n.onPlayPause,c=n.onRateChange,l=n.onSeek;return e.jsxs(t.View,{children:[e.jsxs(t.View,{children:[e.jsx(f,{currentTime:r,onSeek:l}),e.jsx(m,{isPlaying:a,onPress:s}),e.jsx(d,{currentTime:r,onSeek:l})]}),e.jsx(h,{rate:i,rateOptions:u,onRateChange:c}),e.jsx(v,{currentTime:r,duration:o})]})};exports.VideoPlayer=function(o){var i=o.currentTime,a=o.hideFullScreen,s=o.hideVolumeBar,c=o.rateOptions,f=o.resizeMode,m=o.volume,d=o.paused,h=o.muted,x=o.rate,v=o.fullscreen,j=n.useRef(null),y=u(n.useState(0),2),S=y[0],g=y[1],T=u(n.useState(m||100),2),b=T[0],P=T[1],w=u(n.useState(d||!0),2),F=w[0],O=w[1],V=u(n.useState(h||!1),2),C=V[0],I=V[1],k=u(n.useState(x||1),2),M=k[0],q=k[1],z=u(n.useState(v||!1),2),A=z[0],R=z[1];n.useEffect((function(){I(0===b)}),[b]);return e.jsx(t.TouchableWithoutFeedback,{children:e.jsxs(t.View,{children:[e.jsx(r,Object.assign({ref:j,muted:C,resizeMode:f,onLoad:function(e){e&&g(e.duration)}},o)),e.jsx(l,{isFullscreen:A,volume:b,hideFullScreenButton:a,hideVolumeBar:s,onToggleFullscreen:function(){R(!A)},onVolumeChange:function(e){P(e)}}),e.jsx(p,{currentTime:i||0,duration:S,rate:M,isPlaying:!F,rateOptions:c,onRateChange:function(e){isNaN(parseInt(e.toString()))||q(parseInt(e.toString()))},onPlayPause:function(){O(arguments.length>0&&void 0!==arguments[0]&&arguments[0])},onSeek:function(e){(null==j?void 0:j.current)&&j.current.seek(e)}})]})})};
//# sourceMappingURL=index.js.map
